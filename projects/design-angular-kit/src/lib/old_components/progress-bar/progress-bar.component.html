<ng-container *ngIf = "label; else progressBarEl">
  <div class="progress-bar-wrapper">
    <div class="progress-bar-label"><span class="visually-hidden">Progresso </span>{{label}}</div>
    <ng-container *ngTemplateOutlet="progressBarEl"></ng-container>
  </div>
</ng-container>

<ng-template #progressBarEl>
  <div class="progress" [class.progress-indeterminate] = "indeterminate">
    <span class="visually-hidden" *ngIf="indeterminate && indeterminateHiddenText">{{indeterminateHiddenText}}</span>
    <div role="progressbar" [id]="progressbarId" 
      [ngClass]="progressBarClass" 
      [ngStyle]="pgStyle()"
      [attr.aria-valuenow]="value" [attr.aria-valuemin]="min" [attr.aria-valuemax]="max" >
    </div>
  </div>
</ng-template>